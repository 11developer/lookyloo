{% from "macros.html" import shorten_string %}

<script type="text/javascript">
  new DataTable('#faviconDetailsTable', {
    columnDefs: [{ width: '30%', targets: 0 },
                 { width: '30%', targets: 1 },
                 { width: '50%', targets: 2 }],
  });
</script>

<center>
  <img src="data:{{mimetype}};base64,{{ b64_favicon }}" style="width:64px;height:64px;"/>
</center>
<table id="faviconDetailsTable" class="table table-striped" style="width:100%">
  <thead>
    <tr>
      <th>Capture Time</th>
      <th>Capture Title</th>
      <th>Landing page</th>
    </tr>
  </thead>
  <tbody>
    {% for capture_uuid, title, landing_page, capture_time in captures %}
    <tr>
      <td>
        {{capture_time}}
      </td>
      <td>
        <a href="{{ url_for('tree', tree_uuid=capture_uuid) }}">
          {{ title }}
        </a>
      </td>
      <td>
        <span class="d-inline-block text-truncate" style="max-width: 400px;">
          {{ shorten_string(landing_page, 300) }}
        </span>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
