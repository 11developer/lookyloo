{% extends "main.html" %}

{% block title %}Lookyloo{% endblock %}

{% block content %}
  <center>
    <h2><a href="{{ url_for('scrape_web') }}">Use Lookyloo to scrape a page</a></h2>
    </br></br>
  </center>

  <center>
  <div class="table-responsive">
  <table id="table" class="table" data-toggle="table" data-search="true" data-show-columns="true">
    <thead>
     <tr>
       <th data-field="title" data-width="200">Page title</th>
       <th data-flield="url" data-width="75">Initial URL</th>
       <th data-field="redirects" data-width="75">Initial redirects</th>
     </tr>
    </thead>
    <tbody>
      {% for uuid, page_title, date, time, url, redirects in titles %}
      <tr>
        <td>
          <a href="{{ url_for('tree', tree_uuid=uuid) }}">{{ page_title }}</a>
          <div id="timestamp">  <b>{{ date }}</b> {{ time }}</div>
        </td>
        <td>{{ url }}</td>
        <td>
          {% if redirects %}
            {% for r in redirects %}
              {{ r }}
              {% if loop.nextitem %}
                </br>{{ ("&nbsp;" * (loop.index *2) )|safe }}â†ª
              {%endif%}

            {% endfor %}
          {% else%}
            No redirect
          {%endif%}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  </div>
  </center>
{% endblock %}
